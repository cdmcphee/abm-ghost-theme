{"version":3,"file":"index.js","sources":["../js/endmark.js"],"sourcesContent":["/**\n * Endmark — Appends a ◆ permalink to the last <p> in each .post-body\n * Uses the hidden .post-permalink anchor for the URL\n */\nexport default function endmark() {\n    const posts = document.querySelectorAll('.post');\n\n    posts.forEach(function (post) {\n        const permalink = post.querySelector('.post-permalink');\n        const body = post.querySelector('.post-body');\n\n        if (!permalink || !body) return;\n\n        const url = permalink.getAttribute('href');\n        const paragraphs = body.querySelectorAll('p');\n\n        if (paragraphs.length === 0) return;\n\n        const lastP = paragraphs[paragraphs.length - 1];\n\n        // Don't add if endmark already exists\n        if (lastP.querySelector('.post-endmark')) return;\n\n        const mark = document.createElement('a');\n        mark.className = 'post-endmark';\n        mark.href = url;\n        mark.title = 'Permalink';\n        mark.textContent = '\\u25C6'; // ◆\n\n        lastP.appendChild(document.createTextNode(' '));\n        lastP.appendChild(mark);\n    });\n}\n"],"names":["document","querySelectorAll","forEach","post","permalink","querySelector","body","url","getAttribute","paragraphs","length","lastP","mark","createElement","className","href","title","textContent","appendChild","createTextNode"],"mappings":"yBAKkBA,SAASC,iBAAiB,SAElCC,SAAQ,SAAUC,GACpB,MAAMC,EAAYD,EAAKE,cAAc,mBAC/BC,EAAOH,EAAKE,cAAc,cAEhC,IAAKD,IAAcE,EAAM,OAEzB,MAAMC,EAAMH,EAAUI,aAAa,QAC7BC,EAAaH,EAAKL,iBAAiB,KAEzC,GAA0B,IAAtBQ,EAAWC,OAAc,OAE7B,MAAMC,EAAQF,EAAWA,EAAWC,OAAS,GAG7C,GAAIC,EAAMN,cAAc,iBAAkB,OAE1C,MAAMO,EAAOZ,SAASa,cAAc,KACpCD,EAAKE,UAAY,eACjBF,EAAKG,KAAOR,EACZK,EAAKI,MAAQ,YACbJ,EAAKK,YAAc,IAEnBN,EAAMO,YAAYlB,SAASmB,eAAe,MAC1CR,EAAMO,YAAYN,EACtB"}